<html>
  <head>
    <title>IT入門・研究室 C言語入門</title>
  </head>
  <body>
    <center>
      <h1>プログラムを読んでみる</h1>
      <hr>
      <table><tr><td>
        <h3><a name="flow">プログラムの流れ</a></h3>
        先ほどのプログラムを読んでいきます。<br>
        各処理の細かいことは追々解説しますので、ここでは簡単に説明します。<br>
        <font color="red">
        ※ここでは独自の言い回しで解説している部分があります。<br>
        　厳密には意味合いが違っている場合があります。<br>
        </font>
        <br>
        さてプログラムを読み解くために意識することがあります。<br>
        それは「<font color="red"><b>プログラムは基本的に上から下に流れる。</b></font>」というものです。<br>
        これはそのままの意味でプログラムは上から下に処理されていきます。<br>
        <img src="img/flow001.png" border="1"/><br>
        これを前提に読み解いていきます。<br>
        <br><br>
        <h3><a name="func">C言語における関数</a></h3>
        C言語は、小さい機能ごとに分割してプログラムを記述します。<br>
        例えば...<br>
        <ul>
          <li>画面に表示する処理</li>
          <li>プレイヤーを操作する処理</li>
          <li>ダメージを計算する処理</li>
          <li>計算したダメージをHPから減らす処理</li>
        </ul>
        といった感じで、処理を分割して、仕様通りの順番に呼び出していきます。<br>
        この分割した状態のプログラムを「<font color="red"><b>関数</b></font>」と呼んでいます。<br>
        <img src="img/func001.png" border="1"/><br>
        <br>
        今回のプログラムは次の2つが関数です。<br>
        <b>main関数</b>
        <table border="1"><tr><td><code>
          /* メイン関数 */<br>
          int main()<br>
          {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;int sum;<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;/* 1から10まで加算する */<br>
          &nbsp;&nbsp;&nbsp;&nbsp;sum = add(1, 10);<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;printf("計算結果：%d\n", sum);<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
          }
        </center></td></tr></table>
        <b>add関数</b>
        <table border="1"><tr><td><code>
          /* iからjまで加算して結果を戻す関数 */<br>
          int add(int i, int j)<br>
          {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;int n, sum = 0;<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;for (n = i; n <= j; n++)<br>
          &nbsp;&nbsp;&nbsp;&nbsp;{<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum += n;<br>
          &nbsp;&nbsp;&nbsp;&nbsp;}<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;return sum;<br>
          }
        </code></tr></td></table>
        <br><br>
        <h3><a name="main">メイン関数から始まる</a></h3>
        C言語は「<font color="red"><b>必ずメイン関数から開始</b></font>」されます。<br>
        この関数ですね。<br>
        <table border="1"><tr><td><code>
          /* メイン関数 */<br>
          int main()<br>
          {<br>
          &nbsp;&nbsp;&nbsp;&nbsp;int sum;<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;/* 1から10まで加算する */<br>
          &nbsp;&nbsp;&nbsp;&nbsp;sum = add(1, 10);<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;printf("計算結果：%d\n", sum);<br>
          <br>
          &nbsp;&nbsp;&nbsp;&nbsp;return 0;<br>
          }
        </center></td></tr></table>
        この最初に実行される関数のことを、メイン関数とは別に<br>
        「<font color="red"><b>エントリーポイント</b></font>」とも呼ぶことがあります。<br>
        <img src="img/main001.png" border="1"/><br>
        <br>
        関数の中身は「{」から「}」の間に記述されます。<br>
        これを「<font color="red"><b>ブロック</b></font>」と呼びます。<br>
        <img src="img/main002.png" border="1"/><br>
        <br>
        なので、上のプログラムの場合、一番最初に実行される処理は<br>
        <table border="1"><tr><td><code>
          int sum;
        </center></td></tr></table>
        になります。<br>
        <br><br>
        <h3><a name="header">メイン関数より上の記述</a></h3>
        メイン関数より上側にある記述について解説していきます。<br>
        <br>
        まずは、
        <table border="1"><tr><td><code>
          #include &lt;stdio.h&gt;
        </center></td></tr></table>
        ですが、C言語にはプログラムを書きやすくするために<br>
        便利な関数が初めから用意されています。<br>
        中には「画面にテキストを表示する関数」が準備されており、<br>
        その関数を使うために、この記述を記載する必要があります。<br>
        この記述がないと、画面に表示することができません。<br>
        <img src="img/header001.png" border="1"/><br>
        <br>
        次に、
        <table border="1"><tr><td><code>
          int add(int i, int j);
        </center></td></tr></table>
        ですが、これは「下側にadd関数がある」と、予告しています。<br>
        プログラムは上から下に流れるため、この直後にあるメイン関数は、<br>
        「add関数の存在」は知らないことになります。<br>
        <br>
        それを伝えるために、メイン関数の上側にこの記述をすることで、<br>
        「下側にadd関数がある」という予告します。<br>
        これを「<font color="red"><b>関数のプロトタイプ宣言</b></font>」と言います。<br>
        <img src="img/header002.png" border="1"/><br>
        <br><br>
        <h3><a name="maincontents">メイン関数の中身</a></h3>
        
      </center></td></tr></table>
      <hr>
      <a href="../../index.html">IT入門・研究室</a> | <a href="../index.html">C言語入門</a>
      <table><tr><td><small>
        当Webサイトに記載されている内容は、筆者が独自に調査・研究した内容をまとめています。<br>
        そのため、記載されている内容によって、<br>
        いかなる損害が発生したとしても、筆者は責任を負いかねますのでご了承ください。
      </small></td></tr></table>
    </center>
   </body>
</html>